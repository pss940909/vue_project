"use strict";(self["webpackChunkvue_finalproject"]=self["webpackChunkvue_finalproject"]||[]).push([[506],{8506:function(s,e,a){a.r(e),a.d(e,{default:function(){return g}});var t=a(3396),n=a(9242);const o={class:"container mt-5"},i={class:"row justify-content-center"},r={class:"col-md-6"},l=(0,t._)("h1",{class:"h3 mb-3 font-weight-normal"},"請先登入",-1),d={class:"mb-2"},u=(0,t._)("label",{for:"inputEmail",class:"sr-only"},"Email address",-1),c={class:"mb-2"},p=(0,t._)("label",{for:"inputPassword",class:"sr-only"},"Password",-1),m={class:"text-end mt-4"};function h(s,e,a,h,f,w){const b=(0,t.up)("vue-loading");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(b,{active:f.isLoading},null,8,["active"]),(0,t._)("div",o,[(0,t._)("form",i,[(0,t._)("div",r,[l,(0,t._)("div",d,[u,(0,t.wy)((0,t._)("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"Email address",required:"",autofocus:"","onUpdate:modelValue":e[0]||(e[0]=s=>f.user.username=s)},null,512),[[n.nr,f.user.username]])]),(0,t._)("div",c,[p,(0,t.wy)((0,t._)("input",{type:"password",id:"inputPassword",class:"form-control",placeholder:"Password",required:"","onUpdate:modelValue":e[1]||(e[1]=s=>f.user.password=s)},null,512),[[n.nr,f.user.password]])]),(0,t._)("div",m,[(0,t._)("button",{class:"btn btn-lg btn-primary btn-block",type:"submit",onClick:e[2]||(e[2]=(...s)=>w.login&&w.login(...s))}," 登入 ")])])])])],64)}a(7658);var f={data(){return{isLoading:!1,user:{username:"",password:""}}},methods:{login(){this.isLoading=!0;const s="https://vue3-course-api.hexschool.io/admin/signin";this.axios.post(s,this.user).then((s=>{if(s.data.success){this.isLoading=!1;const{token:e,expired:a}=s.data;document.cookie=`loginToken=${e}; expires=${new Date(a)}`,this.$router.push("/dashboard/productlist")}else this.isLoading=!1,alert(`${s.data.message}`)}))}},created(){}},w=a(89);const b=(0,w.Z)(f,[["render",h]]);var g=b}}]);
//# sourceMappingURL=506.9dfcbe6e.js.map